#include <iostream>
#include <iomanip>

int main()
{
	setlocale(0, "");
	using namespace std;

	{
		cout << "Задание 1.\nПо данному натуральному числу n найдите сумму чисел 1+1/1!+1/2!+1/3!+...+1/n!.\nКоличество действий должно быть пропорционально n.\nНапишите программу, которая считывает значение n и выводит результат в виде действительного числа.\n";
		size_t n;
		unsigned long long factorial = 1;
		double sum = 1.0;
		cout << "Введите натуральное число...\n";
		cin >> n;
		for (size_t i = 1; i <= n; i++)
		{
			factorial *= i; //подсчет факториала
			sum += 1. / factorial;
		}
		cout << "Сумма = " << fixed << setprecision(15) << sum << "\n\n\n";

	}

	{
		cout << "Задание 2.\nИспользуя вложенные циклы, напечатайте числа в виде следующих таблиц.\n";
		for (size_t i = 1; i <= 4; i++)
		{
			for (size_t i = 1; i <= 5; i++)
			{
				cout << "5 ";
			}
			cout << "\t";
			for (size_t i = 1; i <= 10; i++)
			{
				cout << i << " ";
			}
			cout << "\t";
			for (size_t i = 41; i <= 50; i++)
			{
				cout << i << " ";
			}
			cout << "\n";
		}
		cout << "\n\n";
	}

	{
		cout << "Задание 3.\nНапечатать полную таблицу умножения.\n";
		for (size_t i = 1; i < 10; i++)
		{
			for (size_t j = 1; j < 10; j++)
			{
				cout << j << "x" << i << "=" << j * i << "\t";
			}
			cout << "\n";
		}
		cout << "\n\n";
	}

	{
		cout << "Задание 4.\nСоставить программу для графического изображения делимости чисел от 1 до n (значение n вводится с клавиатуры).\nВ каждой строке необходимо напечатать очередное число и столько символов “+”, сколько делителей у этого числа.\n";
		int n;
		cout << "Введите число...\n";
		cin >> n;
		for (size_t i = 1; i <= n; i++)
		{
			cout << i;
			for (size_t j = 1; j <= i; j++)
			{
				if (i % j == 0)
				{
					cout << "+";
				}
			}
			cout << "\n";
		}
		cout << "\n\n";
	}

	{
		cout << "Задание 5.\nНайти все совершенные числа меньше 100000.\n";
		int sum;
		for (size_t i = 1; i < 100000; i++)
		{
			sum = 0;
			for (size_t j = 1; j < i; j++)
			{
				if (i % j == 0)
				{
					sum += j;
				}
			}

			if (i == sum)
			{
				cout << i << "\n";
			}
		}
		cout << "\n\n";
	}

	{
		cout << "Задание 6.\nВывести на экран пары чисел : (100 1) (99 2) (98 3) (97 4) ... (50 51).\n";
		for (size_t i = 100, j = 1; i >= 50; i--, j++)
		{
			cout << "(" << i << " " << j << ") ";
		}
		cout << "\n\n\n";
	}

	{
		cout << "Задание 7.\nНайти все правильные несократимые дроби, знаменатель которых меньше заданного числа\n";
		int n;
		cout << "Введите число...\n";
		cin >> n;
		for (size_t a = 1; a < n; a++)
		{
			for (size_t b = a + 1; b < n; b++)
			{
				int a1 = a;
				int b1 = b;

				while (a1 && b1)
				{
					if (a1 > b1)
					{
						a1 %= b1;
					}
					else
					{
						b1 %= a1;
					}
				}
				int nod = a1 + b1;

				if (nod == 1)
				{
					cout << a << "/" << b << "\n";
				}
			}
		}
		cout << "\n\n";
	}

	{
		cout << "Задание 8.\nВычислить число сочетаний из N элементов по M\n"; //правильный ответ выдает только в debug x64
		size_t n, m, f = 1, h = 1, q = 1, C;
		cout << "Введите значение n...\n";
		cin >> n;
		cout << "Введите значение m...\n";
		cin >> m;

		for (size_t i = 1; i <= n; i++)
		{
			f *= i;
		}

		for (size_t i = 1; i <= m; i++)
		{
			h *= i;
		}

		for (size_t i = 1; i <= (n - m); i++)
		{
			q *= i;
		}

		C = f / (h * q);

		cout << "Число сочетаний " << C << "\n\n";

	}

	system("pause");
	return 0;
}
